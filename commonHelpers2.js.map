{"version":3,"file":"commonHelpers2.js","sources":["../src/js/pixabay_api_page_1.js","../src/js/render_getMarcup.js","../src/js/page-1.js"],"sourcesContent":["const KEY_API = `44770113-cb4279c01992ac20f8c79d080`;\n\nexport function getSourcePhoto(inputText, page) {\n    return fetch(`https://pixabay.com/api/?key=${KEY_API}&q=${inputText}&image_type=photo&orientation=horizontal&safesearch=true&per_page=12&page=${page}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n}","const photoGallery = document.querySelector(\".photo-gallery\");\n\nexport function getMarcup(arrey) {\n    // console.log(\"arrey\", arrey)\n    const marcup = arrey.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n        <li class=\"container-photo\">\n        <a href=\"${largeImageURL}\"></a>\n        <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"img-photo\">\n            <ul class=\"list-text relative\">\n                <li class=\"list-title\"><p class=\"list-text-img\">likes:</br>${likes}</p></li>\n                <li class=\"list-title\"><p class=\"list-text-img\">views:</br>${views}</p></li>\n                <li class=\"list-title\"><p class=\"list-text-img\">comments:</br>${comments}</p></li>\n                <li class=\"list-title\"><p class=\"list-text-img\">downloads:</br>${downloads}</p></li>\n            </ul>\n        </img>\n      </li>\n    `).join(``)\n    \n    photoGallery.insertAdjacentHTML(`beforeend`, marcup)\n}","import { getSourcePhoto } from \"./pixabay_api_page_1\";\nimport { getMarcup } from \"./render_getMarcup\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst inputForm = document.querySelector(\".form\");\nconst photoGallery = document.querySelector(\".photo-gallery\");\nconst buttonNext = document.querySelector(\".button-next\")\n\n\ninputForm.addEventListener(\"submit\", inputFormSubmit)\n\nlet inputText = \"\";\nlet page;\n\nfunction inputFormSubmit(event) {\n    event.preventDefault();\n    const form = event.target;\n    inputText = (form.elements.input.value).trim().toLowerCase(); \n    // console.log(\"input\", inputText);\n    if (inputText === \"\") {\n        iziToast.show({\n            position: 'topCenter',\n            backgroundColor: 'rgba(99, 66, 33, 0.6)',\n            messageColor: '#ffffff',\n            message: 'Input name photo ... !'\n            })\n        return\n    } else {\n        page = 1;\n        getSourcePhoto(inputText, page)\n            .then((data) => {\n                if (Number(data.hits.length) === 0) {\n                        iziToast.show({\n                        position: 'topCenter',\n                        backgroundColor: 'rgba(99, 66, 33, 0.6)',\n                        messageColor: '#ffffff',\n                        message: 'Photo search did not produce results ... !'\n                        });\n                    return\n                }else if( 12 >  Number(data.hits.length)){\n                        photoGallery.innerHTML = \"\";\n                        getMarcup(data.hits);\n                        buttonNextPhotoAdd();\n                }else{\n                        photoGallery.innerHTML = \"\";\n                        getMarcup(data.hits);\n                        buttonNextPhotoRemove();\n                    }\n                })\n            .catch((error) => \n                    iziToast.show({\n                        position: 'topCenter',\n                        backgroundColor: 'rgba(99, 66, 33, 0.6)',\n                        messageColor: '#ffffff',\n                        message: 'Server error. Please try again later ... !'\n                    })\n                // console.log(\"Server error. Please try again later\", error)\n                )\n        }\n    form.reset();\n}\n\nbuttonNext.addEventListener(`click`, nextRenderFoto);\n\nfunction nextRenderFoto(){\n    page += 1;\n    getSourcePhoto(inputText, page)\n    .then((data) => {\n         if( 12 >  Number(data.hits.length)){\n                        getMarcup(data.hits);\n                        buttonNextPhotoAdd();\n                }else{\n                       getMarcup(data.hits);\n                        buttonNextPhotoRemove();\n                    }\n                })\n            .catch((error) => \n                iziToast.show({\n                        position: 'topCenter',\n                        backgroundColor: 'rgba(99, 66, 33, 0.6)',\n                        messageColor: '#ffffff',\n                        message: 'Server error. Please try again later ... !'\n                    })\n                // console.log(\"Server error. Please try again later\", error)\n            )\n}\n\n\nfunction buttonNextPhotoRemove(){\n    buttonNext.classList.remove(\"hidden\")\n}\n\nfunction buttonNextPhotoAdd(){\n    buttonNext.classList.add(\"hidden\")\n}\n\n\n    \n"],"names":["KEY_API","getSourcePhoto","inputText","page","response","photoGallery","getMarcup","arrey","marcup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","inputForm","buttonNext","inputFormSubmit","event","form","iziToast","data","buttonNextPhotoAdd","buttonNextPhotoRemove","error","nextRenderFoto"],"mappings":"wIAAA,MAAMA,EAAU,qCAET,SAASC,EAAeC,EAAWC,EAAM,CAC5C,OAAO,MAAM,gCAAgCH,CAAO,MAAME,CAAS,6EAA6EC,CAAI,EAAE,EACjJ,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCVA,MAAMC,EAAe,SAAS,cAAc,gBAAgB,EAErD,SAASC,EAAUC,EAAO,CAE7B,MAAMC,EAASD,EAAM,IAAI,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,mBAEtFL,CAAa;AAAA,oBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA,6EAE+BC,CAAK;AAAA,6EACLC,CAAK;AAAA,gFACFC,CAAQ;AAAA,iFACPC,CAAS;AAAA;AAAA;AAAA;AAAA,KAIrF,EAAE,KAAK,EAAE,EAEVV,EAAa,mBAAmB,YAAaG,CAAM,CACvD,CCdA,MAAMQ,EAAY,SAAS,cAAc,OAAO,EAC1CX,EAAe,SAAS,cAAc,gBAAgB,EACtDY,EAAa,SAAS,cAAc,cAAc,EAGxDD,EAAU,iBAAiB,SAAUE,CAAe,EAEpD,IAAIhB,EAAY,GACZC,EAEJ,SAASe,EAAgBC,EAAO,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,OAGnB,GAFAjB,EAAakB,EAAK,SAAS,MAAM,MAAO,KAAI,EAAG,cAE3ClB,IAAc,GAAI,CAClBmB,EAAS,KAAK,CACV,SAAU,YACV,gBAAiB,wBACjB,aAAc,UACd,QAAS,wBACrB,CAAa,EACL,MACR,MACQlB,EAAO,EACPF,EAAeC,EAAWC,CAAI,EACzB,KAAMmB,GAAS,CACZ,GAAI,OAAOA,EAAK,KAAK,MAAM,IAAM,EAAG,CAC5BD,EAAS,KAAK,CACd,SAAU,YACV,gBAAiB,wBACjB,aAAc,UACd,QAAS,4CACjC,CAAyB,EACL,MACpB,KAA0B,IAAM,OAAOC,EAAK,KAAK,MAAM,GAC/BjB,EAAa,UAAY,GACzBC,EAAUgB,EAAK,IAAI,EACnBC,MAEAlB,EAAa,UAAY,GACzBC,EAAUgB,EAAK,IAAI,EACnBE,IAExB,CAAiB,EACJ,MAAOC,GACAJ,EAAS,KAAK,CACV,SAAU,YACV,gBAAiB,wBACjB,aAAc,UACd,QAAS,4CACjC,CAAqB,CAEJ,EAEbD,EAAK,MAAK,CACd,CAEAH,EAAW,iBAAiB,QAASS,CAAc,EAEnD,SAASA,GAAgB,CACrBvB,GAAQ,EACRF,EAAeC,EAAWC,CAAI,EAC7B,KAAMmB,GAAS,CACP,GAAM,OAAOA,EAAK,KAAK,MAAM,GAClBhB,EAAUgB,EAAK,IAAI,EACnBC,MAEDjB,EAAUgB,EAAK,IAAI,EAClBE,IAExB,CAAiB,EACJ,MAAOC,GACJJ,EAAS,KAAK,CACN,SAAU,YACV,gBAAiB,wBACjB,aAAc,UACd,QAAS,4CACjC,CAAqB,CAER,CACb,CAGA,SAASG,GAAuB,CAC5BP,EAAW,UAAU,OAAO,QAAQ,CACxC,CAEA,SAASM,GAAoB,CACzBN,EAAW,UAAU,IAAI,QAAQ,CACrC"}